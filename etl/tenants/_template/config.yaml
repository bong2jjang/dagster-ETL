# =============================================================================
# 테넌트 설정 템플릿
# 이 파일을 복사하여 새 테넌트 config.yaml 생성
# =============================================================================

tenant:
  # 필수: 테넌트 ID (소문자 영숫자, 언더스코어만)
  id: "template"  # 변경 필요

  # 필수: 테넌트 이름 (표시용)
  name: "Template Tenant"  # 변경 필요

  # 전체 활성화 여부
  enabled: false  # 활성화하려면 true로 변경

  # 커스텀 코드 사용 여부
  # true: tenants/{id}/assets/ 폴더의 커스텀 코드 사용
  # false: common/ 폴더의 공용 코드만 사용
  use_custom_code: false

  # 환경별 활성화
  environments:
    dev:
      enabled: true
    staging:
      enabled: true
    prod:
      enabled: false

  # Source Database (테넌트별 독립)
  source_database:
    host: "${TEMPLATE_DB_HOST:localhost}"
    port: 5432
    database: "template_source_db"
    username: "${TEMPLATE_DB_USER:postgres}"
    password: "${TEMPLATE_DB_PASSWORD:}"
    schema: "public"

  # S3 Storage (테넌트별 경로 분리)
  storage:
    bucket: "${S3_BUCKET_NAME:data-lake}"
    base_path: "project_id=template"

  # Target Database (공유 DB, project_id로 분리)
  target_database:
    trino_host: "${TRINO_HOST:localhost}"
    trino_port: 8080
    trino_user: "${TRINO_USER:trino}"
    trino_password: ""
    target_catalog: "postgresql"
    target_schema: "aps"

  # Job 설정
  jobs:
    daily_etl:
      enabled: true
      schedule:
        cron: "0 3 * * *"
        timezone: "Asia/Seoul"
        auto_start: false
    wip_pipeline:
      enabled: true
    cycle_time_pipeline:
      enabled: true
    equipment_pipeline:
      enabled: true

  # 태그 (Dagster UI 필터링용)
  tags:
    customer: "template"
    region: "ap-northeast-2"
    tier: "standard"
